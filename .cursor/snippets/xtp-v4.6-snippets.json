{
  "VThink Session Protocol": {
    "prefix": "vtk-session",
    "body": [
      "// PROTOCOLO DE INICIO AUTOM√ÅTICO - VThink 1.0",
      "const sessionInfo = {",
      "  fecha: \"${1:DD-MM-YYYY}\",",
      "  participante: \"${2:Nombre del participante}\",",
      "  rol: \"${3:Rol en el proyecto}\",",
      "  contexto: \"${4:Prop√≥sito de la sesi√≥n}\"",
      "};",
      "",
      "// VALIDACI√ìN OBLIGATORIA",
      "if (!sessionInfo.fecha || !sessionInfo.participante) {",
      "  throw new Error(\"Informaci√≥n de sesi√≥n incompleta\");",
      "}",
      "",
      "console.log('üöÄ Sesi√≥n iniciada:', sessionInfo);"
    ],
    "description": "VThink 1.0 Session Protocol - OBLIGATORIO al iniciar cada sesi√≥n"
  },
  
  "VThink Component Template": {
    "prefix": "vtk-component",
    "body": [
      "import React from 'react';",
      "import { useAuth } from '@/shared/hooks/useAuth';",
      "import { FeatureGate } from '@/shared/components/FeatureGate';
      "",
      "/**",
      " * @component ${1:ComponentName}",
      " * @description ${2:Brief description of component purpose}",
      " * @requires ${3:PERMISSION_LEVEL}",
      " * @example",
      " * <${1:ComponentName} ",
      " *   prop1=\"value\"",
      " *   onAction={handleAction}",
      " * />",
      " * @vtkCompliance true",
      " * @securityReview true",
      " * @testingRequired true",
      " */",
      "interface ${1:ComponentName}Props {",
      "  ${4:prop1}: string;",
      "  onAction: (action: any) => void;",
      "  isLoading?: boolean;",
      "}",
      "",
      "const ${1:ComponentName}: React.FC<${1:ComponentName}Props> = ({",
      "  ${4:prop1},",
      "  onAction,",
      "  isLoading = false",
      "}) => {",
      "  const { user, hasPermission } = useAuth();",
      "  ",
      "  // ALWAYS validate permissions",
      "  if (!hasPermission('${3:PERMISSION_LEVEL}')) {",
      "    return <Unauthorized />;",
      "  }",
      "  ",
      "  return (",
      "    <FeatureGate permission=\"${3:PERMISSION_LEVEL}\">",
      "      <div className=\"p-4\">",
      "        {/* Component content */}",
      "        <h2>${1:ComponentName}</h2>",
      "        <p>{${4:prop1}}</p>",
      "      </div>",
      "    </FeatureGate>",
      "  );",
      "};",
      "",
      "export default React.memo(${1:ComponentName});"
    ],
    "description": "VThink 1.0 Component Template with security and performance optimizations"
  },
  
  "VThink Multi-tenant Query": {
    "prefix": "vtk-query",
    "body": [
      "// ‚úÖ ALWAYS filter by company_id - VThink 1.0",
      "const { data, error } = await supabase",
      "  .from('${1:table_name}')",
      "  .select('*')",
      "  .eq('company_id', user.company_id);",
      "",
      "if (error) {",
      "  console.error('RLS policy violation:', error);",
      "  throw new Error('Access denied');",
      "}",
      "",
      "// Validate data belongs to user's company",
      "const validatedData = data.filter(item => item.company_id === user.company_id);"
    ],
    "description": "VThink 1.0 Multi-tenant database query with security validation"
  },
  
  "VThink Test Template": {
    "prefix": "vtk-test",
    "body": [
      "import { render, screen } from '@testing-library/react';",
      "import { ${1:ComponentName} } from './${1:ComponentName}';",
      "",
      "describe('${1:ComponentName} - VThink 1.0', () => {",
      "  const mockUser = {",
      "    id: 'user1',",
      "    company_id: 'company1',",
      "    role: '${2:ADMIN}',",
      "    email: '${2:ADMIN}@company1.com'",
      "  };",
      "",
      "  it('should enforce company isolation', async () => {",
      "    render(<${1:ComponentName} user={mockUser} />);",
      "    ",
      "    const dataElements = await screen.findAllByTestId('data-row');",
      "    dataElements.forEach(element => {",
      "      expect(element).toHaveAttribute('data-company-id', 'company1');",
      "    });",
      "  });",
      "",
      "  it('should respect role permissions', () => {",
      "    const employee = { ...mockUser, role: 'EMPLOYEE' };",
      "    render(<${1:ComponentName} user={employee} />);",
      "    ",
      "    expect(screen.queryByText('Admin Action')).not.toBeInTheDocument();",
      "  });",
      "});"
    ],
    "description": "VThink 1.0 Test Template with multi-tenant and role-based testing"
  },
  
  "VThink Task Template": {
    "prefix": "vtk-task",
    "body": [
      "const task: VThinkTask = {",
      "  id: '${1:TASK-001}',",
      "  title: '${2:Task Title}',",
      "  description: '${3:Detailed description of the task}',",
      "  level: ${4:4}, // 1=Quick fix, 2-4=Feature, 5=Architecture",
      "  complexity: '${5:high}', // low, medium, high",
      "  priority: '${6:high}', // low, medium, high, critical",
      "  assignee: '${7:Marcelo Developer}',",
      "  estimatedTime: '${8:2-3 days}',",
      "  vtkCompliance: true,",
      "  securityReview: true,",
      "  testingRequired: true,",
      "  documentationRequired: true,",
      "  acceptanceCriteria: [",
      "    '${9:First acceptance criterion}',",
      "    '${10:Second acceptance criterion}',",
      "    'VThink 1.0 documentation complete'",
      "  ],",
      "  dependencies: ['${11:DEP-001}'],",
      "  tags: ['${12:security}', '${13:multi-tenant}', 'vtk-1.0'],",
      "  createdAt: new Date(),",
      "  status: 'todo'",
      "};"
    ],
    "description": "VThink 1.0 Task Template with all required fields"
  },
  
  "VThink Git Commit": {
    "prefix": "vtk-commit",
    "body": [
      "git commit -m \"${1:type}(${2:scope}): ${3:description}",
      "",
      "- Implements VThink 1.0 compliance",
      "- Adds security validations",
      "- Includes comprehensive testing",
      "- Updates documentation",
      "",
      "VThink Level: ${4:4}",
      "Security Review: ${5:true}",
      "Testing Coverage: ${6:95%}\""
    ],
    "description": "VThink 1.0 Git commit format with compliance information"
  },
  
  "VThink Hook Template": {
    "prefix": "vtk-hook",
    "body": [
      "import { useState, useEffect } from 'react';",
      "",
      "/**",
      " * @hook use${1:HookName}",
      " * @description ${2:Description of hook functionality}",
      " * @requires ${3:PERMISSION_LEVEL}",
      " * @vtkCompliance true",
      " */",
      "export const use${1:HookName} = (${4:params}) => {",
      "  const [state, setState] = useState(${5:initialState});",
      "  const { user, hasPermission } = useAuth();",
      "  ",
      "  // ALWAYS validate permissions",
      "  useEffect(() => {",
      "    if (!hasPermission('${3:PERMISSION_LEVEL}')) {",
      "      console.warn('Insufficient permissions for use${1:HookName}');",
      "      return;",
      "    }",
      "    ",
      "    // Hook logic here",
      "  }, [hasPermission]);",
      "  ",
      "  return { state, setState };",
      "};"
    ],
    "description": "VThink 1.0 Hook Template with permission validation"
  },
  
  "VThink Service Template": {
    "prefix": "vtk-service",
    "body": [
      "import { supabase } from '@/integrations/supabase/client';",
      "",
      "/**",
      " * @service ${1:ServiceName}",
      " * @description ${2:Description of service functionality}",
      " * @requires ${3:PERMISSION_LEVEL}",
      " * @vtkCompliance true",
      " */",
      "export class ${1:ServiceName} {",
      "  constructor(private user: User) {}",
      "  ",
      "  // ALWAYS filter by company_id",
      "  async getData() {",
      "    const { data, error } = await supabase",
      "      .from('${4:table_name}')",
      "      .select('*')",
      "      .eq('company_id', this.user.company_id);",
      "    ",
      "    if (error) throw new Error('Access denied');",
      "    return data;",
      "  }",
      "  ",
      "  async createData(payload: any) {",
      "    const { data, error } = await supabase",
      "      .from('${4:table_name}')",
      "      .insert([{ ...payload, company_id: this.user.company_id }])",
      "      .select();",
      "    ",
      "    if (error) throw new Error('Creation failed');",
      "    return data[0];",
      "  }",
      "}"
    ],
    "description": "VThink 1.0 Service Template with security and multi-tenant patterns"
  },
  
  "VThink Documentation Template": {
    "prefix": "vtk-doc",
    "body": [
      "# ${1:Component/Feature Name}",
      "",
      "## VThink 1.0 Compliance",
      "- ‚úÖ Multi-tenant isolation",
      "- ‚úÖ Role-based access control",
      "- ‚úÖ CMMI-ML3 standards",
      "- ‚úÖ Performance optimization",
      "",
      "## Security Considerations",
      "- Company_id filtering required",
      "- RLS policies enforced",
      "- Audit logging implemented",
      "",
      "## Testing Requirements",
      "- Unit tests with >90% coverage",
      "- Integration tests for multi-tenant",
      "- E2E tests for critical flows",
      "",
      "## Performance Metrics",
      "- Load time < 2s",
      "- Memory usage optimized",
      "- Bundle size minimized",
      "",
      "*VThink 1.0 Compliant | Security Reviewed | Tested | Documented*"
    ],
    "description": "VThink 1.0 Documentation Template with compliance checklist"
  }
} 